<html>
  <head>
    <title>fastet</title>
<style>
.stkn {  
  border: 1px solid; 
  position: relative; 
}
.cell {
  position: absolute;  
}
.whcell {
  background-color: white;
  border: 1px solid gray;  
}
.blcell {
  background-color: gray;
  border: 1px solid red;  
}

</style>
<script type="text/javascript" src="http://yandex.st/jquery/1.8.3/jquery.js"></script>
<script>
//12:25 - start;

var ncol = 10,
    nrow = 15,
    stkn = [],
    size = 30,
    $stkn,
    timer,
    delay = 500,
    figs = [
            [[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]],  // 0
            [[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,1,1,0]],  // 1
            [[0,0,1,0],[0,1,1,0],[0,1,0,0],[0,0,0,0]],  // 2
           ],
    curfig = 0,
    figx = 5, 
    figy = 5;

    
function init(){
  $stkn = $('.stkn');
  
  $stkn.width(size * ncol);
  $stkn.height(size * nrow);
  drawAll(stkn);
  var timer = setTimeOut(loop, delay);
}

function loop() {
  curfig
}

function update(i,j,v){
    var $cell = $('.cell' + i + '-' + j);
 
    $cell.toggleClass('whcell', !v);
    $cell.toggleClass('blcell', !!v); 
}


function updateAll(stk){
  var i,j;
  for (i=0; i < ncol; i++) {
    for (j=0; j < nrow; j++) {
      if (stk[i] && stk[i][j]) {
        update(i,j, 1);
      } else {
        update(i,j, 0);
      }
    }    
  }
}

function drawAll(stk){
  var i,j;
  for (i=0; i < ncol; i++) {
    for (j=0; j < nrow; j++) {
      var cls = 'cell' + i + '-' + j + ' whcell cell',
          $newcell = $( "<div class='" + cls + "'></div>" ),
          l  = i * size,
          t  = j * size;

      $newcell.width(size)
              .height(size)
              .css({'left' : l, 'top' : t});

      $stkn.append($newcell);
    }    
  }
}

$(document).ready(function() {
  init();
});


</script>

  </head>
<body>

<div class="stkn"></div>

</body>
</html>